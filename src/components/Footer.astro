---
import type { CollectionEntry } from "astro:content";

type Props = CollectionEntry<"pages">["data"]["footer"];

const {
  title,
  subtitle,
  companyName,
  companyDesc,
  contact,
  ctaButtons,
  socials,
  mapEmbedUrl,
} = Astro.props as Props;
---

<footer
  id="footer-section"
  class="bg-[#020617] border-t border-white/5 transition-colors duration-300"
>
  <!-- CTA
Section -->
  <div class="relative py-20 px-6 overflow-hidden">
    <div
      class="absolute inset-0 bg-gradient-to-r from-blue-900/40 to-indigo-900/40
opacity-50"
    >
    </div>
    <div class="max-w-4xl mx-auto text-center relative z-10">
      <h2 class="text-3xl md:text-5xl font-bold font-outfit mb-4">
        {title}
      </h2>
      <p class="text-gray-400 mb-8 text-lg">{subtitle}</p>
      <div class="flex flex-col
sm:flex-row items-center justify-center gap-4">
        {
          ctaButtons?.map((btn: any) => (
            <a
              href={btn.link}
              class={`px-8 py-3 rounded-full font-semibold transition-colors shadow-lg ${
                btn.variant === "primary"
                  ? "bg-blue-600 text-white hover:bg-blue-700 shadow-blue-600/30"
                  : "bg-white text-black hover:bg-gray-200"
              }`}
            >
              {btn.text}
            </a>
          ))
        }
      </div>
    </div>
  </div>
  <!-- Divider -->
  <div class="border-t border-white/10 w-full"></div>

  <!-- Main Footer Content -->
  <div
    class="max-w-7xl mx-auto px-6 py-12
grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"
  >
    <div class="col-span-1
lg:col-span-1">
      <div class="flex items-center gap-2 mb-6">
        <div class="w-8 h-8
relative">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            class="w-full h-full text-white"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M12 2L2 22H22L12 2Z" fill="currentColor" fill-opacity="0.2"
            ></path>
            <path d="M12 6L4.5 21H19.5L12 6Z" fill="currentColor"></path>
            <path d="M12 10L7 20H17L12 10Z" fill="white"></path>
          </svg>
        </div>
        <span class="text-xl font-bold
font-outfit">{companyName}</span>
      </div>
      <p class="text-gray-500 text-sm
leading-relaxed mb-6">
        {companyDesc}
      </p>
    </div>
    <div class="col-span-1 lg:col-span-2 flex justify-around">
      <div>
        <h4 class="font-bold
mb-4 font-outfit">Contact Us</h4>
        <ul class="space-y-2 text-gray-400 text-sm">
          <li class="flex items-center gap-2">
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              ><path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 5a2 2 0 012-2h3.28a1 1 0
01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516
5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2
2h-1C9.716 21 3 14.284 3 6V5z"
              ></path></svg
            >
            {contact.phone}
          </li>
          <li class="flex items-center gap-2">
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              ><path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5
19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
              ></path></svg
            >
            {contact.email}
          </li>
          <div class="flex gap-4 mt-4">
            <a
              href={socials?.linkedin || "#"}
              class="w-8 h-8
rounded-full bg-white/10 flex items-center justify-center hover:bg-blue-600
transition-colors"
            >
              <span class="sr-only">LinkedIn</span>
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"
                ><path
                  d="M19 0h-14c-2.761 0-5 2.239-5
5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11
19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764
1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5
12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7
2.476v6.759z"
                ></path></svg
              >
            </a>
            <a
              href={socials?.facebook || "#"}
              class="w-8 h-8 rounded-full
bg-white/10 flex items-center justify-center hover:bg-blue-600
transition-colors"
            >
              <span class="sr-only">Facebook</span>
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"
                ><path
                  d="M9
8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333
1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"
                ></path></svg
              >
            </a>
          </div>
        </ul>
      </div>
    </div>
    <div class="col-span-1">
      <div class="rounded-xl overflow-hidden h-40 relative group">
        <!-- Map Embed -->
        {
          mapEmbedUrl ? (
            <iframe
              src={mapEmbedUrl}
              width="100%"
              height="100%"
              style="border:0;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              class="w-full h-full"
            />
          ) : (
            <>
              <img
                src="https://images.unsplash.com/photo-1569336415962-a4bd9f69cd83?q=80&w=2669&auto=format&fit=crop"
                alt="Map Location"
                class="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity"
              />
              <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                <div class="bg-white text-black text-xs font-bold px-3 py-1 rounded shadow-lg">
                  Headquarters
                </div>
              </div>
            </>
          )
        }
      </div>

      <style>
        :global([data-theme="light"]) #footer-section {
          background: #ffffff !important;
          border-top: 1px solid #e5e7eb !important;
        }

        :global([data-theme="light"]) #footer-section .bg-gradient-to-r {
          display: none;
        }

        :global([data-theme="light"]) #footer-section h2,
        :global([data-theme="light"]) #footer-section h4,
        :global([data-theme="light"]) #footer-section span {
          color: #000000;
        }

        :global([data-theme="light"]) #footer-section p,
        :global([data-theme="light"]) #footer-section li,
        :global([data-theme="light"]) #footer-section .text-gray-400,
        :global([data-theme="light"]) #footer-section .text-gray-500,
        :global([data-theme="light"]) #footer-section .text-gray-600 {
          color: #4b5563 !important; /* gray-600 */
        }

        /* Icons */
        :global([data-theme="light"]) #footer-section svg.text-white,
        :global([data-theme="light"]) #footer-section svg[fill="white"] {
          color: #000000 !important;
          fill: #000000 !important;
        }
        :global([data-theme="light"]) #footer-section path[fill="white"] {
          fill: #000000 !important;
        }

        /* Secondary Button Inversion for visibility on white bg */
        :global([data-theme="light"]) #footer-section a.bg-white {
          background-color: #0f172a !important; /* slate-900 */
          color: #ffffff !important;
        }
        :global([data-theme="light"]) #footer-section a.bg-white:hover {
          background-color: #1e293b !important; /* slate-800 */
        }

        /* Light mode dividers */
        :global([data-theme="light"]) #footer-section .border-white\/10 {
          border-color: #e5e7eb !important; /* gray-200 */
        }
      </style>
    </div>
  </div>
  <!-- Bottom Copyright Bar -->
  <div class="max-w-7xl mx-auto px-6 py-6 text-center md:text-left">
    <div class="text-gray-600 text-xs">
      &copy; 2025 AdVerse Media. All rights reserved.
    </div>
  </div>
</footer>
