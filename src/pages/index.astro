---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Hero from "../components/Hero.astro";
import Stats from "../components/Stats.astro";
import Showcase from "../components/Showcase.astro";
import Brands from "../components/Brands.astro";
import HowItWorks from "../components/HowItWorks.astro";
import Features from "../components/Features.astro";
import CallToAction from "../components/CallToAction.astro";
import Footer from "../components/Footer.astro";

import { getEntry } from "astro:content";

const entry = await getEntry("pages", "index");

if (!entry) {
  return Astro.redirect("/404");
}

const {
  hero,
  stats,
  showcase,
  brands,
  howItWorks,
  features,
  footer,
  navbar,
  callToAction,
} = entry.data;
---

<Layout>
  {navbar && <Navbar {...navbar} />}
  <main class="overflow-hidden">
    {hero && <Hero {...hero} />}
    {stats && <Stats {...stats} />}
    {showcase && <Showcase {...showcase} />}
    {brands && <Brands {...brands} />}
    {howItWorks && <HowItWorks {...howItWorks} />}
    {features && <Features {...features} />}
  </main>
  {callToAction && <CallToAction {...callToAction} />}
  {footer && <Footer {...footer} />}
</Layout>
